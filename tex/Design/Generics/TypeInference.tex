\subsubsection{Algoritmo di type-inferece}
Per funzioni generiche, è possibile non specificare espressamente dei parametri 
attuali di tipo e lasciare che sia Basalt a dedurli dal contesto. 
L’operazione di deduzione dei parametri attuali di tipo a partire dal 
contesto è detta type-inference. \\

Supponiamo ad esempio di voler chiamare la funzione max, ma 
senza specificare un parametro attuale di tipo. 
Per usare la type-inference, basterà omettere interamente i parametri attuali di 
tipo ed utilizzare max come se fosse una funzione non generica. \\

\vspace{0.5cm}
\begin{lstlisting}[frame=single]
var x : Int = max(3, 5);
var y : Float = max(3.14, 5.17);
\end{lstlisting}
\vspace{0.5cm}

Consideriamo poi le due seguenti chiamate, dove in entrambi i casi, 
i tipi degli argomenti forniti in chiamata sono distinti. Dato che nella definizione della 
funzione \texttt{max} compare un unico parametro formale di tipo \texttt{T} che risulta essere 
il tipo di entrambi gli argomenti, l'algoritmo di typeinference si troverà a risolvere due vincoli
per un solo tipo.\\

\vspace{0.5cm}
\begin{lstlisting}[frame=single]
var int_value : Int = 3;
var float_value : Float = 3.14;
var number_value : Number = 5;

var z1 : Number = max(int_value, number_value);
var z2 : Number = max(int_value, float_value);
\end{lstlisting}
\vspace{0.5cm}
 
La risoluzione dei vincoli di tipo è affrontata secondo il seguente algoritmo (in flow-chart):

\subfile{FlowChartTypeInference}
\vspace{0.5cm}

Con tale algoritmo, la chiamata alla funzione \texttt{max} con argomenti di tipo \texttt{Int} e \texttt{Number}
porterà alla deduzione del tipo \texttt{Number}, mentre la chiamata con argomenti di tipo \texttt{Int} 
e \texttt{Float} porterà alla deduzione del tipo \texttt{Int | Float} (comportamento atteso).\\
